@page "/GestionarPrestamos"

<ol style="--length: 5" role="list">
    @foreach (var libro in Libros.ToList())
    {
            <li style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
                <div>
                    <h3>@libro.Titulo</h3>
                    <p><strong>Autor:</strong> @libro.Autor</p>
                    <p><strong>Género:</strong> @libro.Genero</p>
                    <p><strong>ISBN:</strong> @libro.ISBN</p>
                    <p>@libro.Descripcion</p>
                    <button class="return-button" @onclick="() => EliminarLibro(libro)">
                        Devolver libro
                    </button>
                </div>
                <div>
                    <img src="@libro.ImagenUrl" alt="Imagen de @libro.Titulo" style="width: 150px; height: auto; margin-left: 20px;">
                </div>
            </li>
    }
</ol>

@if (Libros.Count == 0)
{
    
    <div id="mensaje-vacio" class="sin-elementos">
        <p>No hay más libros prestados.</p>
    </div>

}

@code {
    public class Libro
    {
        public string Titulo { get; set; }
        public string Descripcion { get; set; }
        public string Autor { get; set; }
        public string Genero { get; set; }
        public string ISBN { get; set; }
        public string ImagenUrl { get; set; } // URL de la imagen del libro
        public bool Disponible { get; set; }
    }

    private List<Libro> Libros = new List<Libro>
    {
        new Libro
        {
            Titulo = "Discovery and assessment",
            Descripcion = "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
            Autor = "Autor 1",
            Genero = "Género 1",
            ISBN = "123-456-789",
            ImagenUrl = "https://sarasvatilibreria.com/cdn/shop/products/la-insoportable-levedad-del-ser-milan-kundera-288947.jpg?v=1698902769", // Reemplaza con una URL real
            Disponible = true
        },
        new Libro
        {
            Titulo = "Information gathering and analysis",
            Descripcion = "Lorem ipsum dolor sit amet, consectetur adipiscing elit.",
            Autor = "Autor 2",
            Genero = "Género 2",
            ISBN = "987-654-321",
            ImagenUrl = "https://via.placeholder.com/150", // Reemplaza con una URL real
            Disponible = true
        },
        // Añade más libros según sea necesario
    };

    private void EliminarLibro(Libro libro)
    {
        if (Libros.Contains(libro))
        {
            Libros.Remove(libro); // Elimina el libro de la lista
        }
        StateHasChanged(); // Actualiza la vista para reflejar el cambio
    }
}
